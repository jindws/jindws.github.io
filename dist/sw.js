(()=>{const a="_weather-v1";globalThis.addEventListener("install",(async t=>{console.log("sw install");const e=await caches.open(a);return console.log("catch",e),await e.addAll(["/","https://jindw.xyz/favicon.ico","/manifest.json","/dist/index.js"]),globalThis.skipWaiting()})),globalThis.addEventListener("fetch",(t=>{const e=t.request;t.respondWith(async function(t){console.log("fetch",t.url);try{return await fetch(t)}catch(e){console.log("catch",t.url);const s=await caches.open(a);return await s.match(t)}}(e))})),globalThis.addEventListener("activate",(async t=>{console.log("sw activate"),(await caches.keys()).forEach((t=>{t!==a&&caches.delete(t)})),console.log("globalThis.clients",globalThis.clients.claim),await globalThis.clients.claim()}))})();