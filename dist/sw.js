(()=>{const t="weather-v5";globalThis.addEventListener("install",(async()=>{console.log("sw install");const a=await caches.open(t);return await a.addAll(["/","https://jindw.xyz/favicon.ico","/manifest.json","/dist/index.js","/dist/index.css","https://cdn.bootcdn.net/ajax/libs/echarts/5.3.2/echarts.min.js"]),globalThis.skipWaiting()})),globalThis.addEventListener("fetch",(a=>{const s=a.request;a.respondWith(async function(a){console.log("fetch",a.url);try{return await fetch(a)}catch(s){return console.log("catch",a.url),(await caches.open(t)).match(a)}}(s))})),globalThis.addEventListener("activate",(async()=>{console.log("sw activate"),(await caches.keys()).forEach((a=>{a!==t&&caches.delete(a)})),console.log("globalThis.clients",globalThis.clients.claim),await globalThis.clients.claim()}))})();